/* ====================================================================== */
/* ----------------------  TEMA / VARIÁVEIS GLOBAIS ---------------------- */
/* ====================================================================== */

:root {
  color-scheme: light dark;

  /* === Tema: TROCA ISTO para mudar o design todo === */
  --app-bg:     #f3f4f6;  /* fundo geral da app */
  --card-bg:    #ffffff;  /* fundo dos cards */
  --card-border:#e5e7eb;  /* borda subtil dos cards e listas */
}

/* ====================================================================== */
/* ---------------------- FUNDO GLOBAL DA APLICAÇÃO ---------------------- */
/* ====================================================================== */

body {
  background-color: var(--app-bg) !important;
}

.app-main,
.app-main .content-wrapper,
.app-main .content-wrapper .content,
.content-wrapper {
  background-color: var(--app-bg) !important;
}

/* ====================================================================== */
/* ---------------------- ACESSIBILIDADE / FOCOS ------------------------- */
/* ====================================================================== */

@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.001ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.001ms !important;
    scroll-behavior: auto !important;
  }
}

:focus-visible {
  outline: 2px solid #0d6efd;
  outline-offset: 2px;
}

.visually-hidden-focusable:focus {
  position: static !important;
  clip: auto !important;
  width: auto;
  height: auto;
  padding: .25rem .5rem;
  z-index: 1080;
}

/* ====================================================================== */
/* ------------------------------- SIDEBAR ------------------------------- */
/* ====================================================================== */

.app-sidebar .nav-sidebar > .nav-item > .nav-link {
  display: flex;
  align-items: center;
  gap: .75rem;
  padding: .625rem .875rem;
}

.app-sidebar .nav-sidebar .nav-icon {
  width: 1.35rem;
  font-size: 1.1rem;
  text-align: center;
  line-height: 1;
}

.app-sidebar .nav-sidebar p {
  margin: 0;
}

.app-sidebar .nav-sidebar .nav-link.active {
  color: #fff;
}

.app-sidebar .nav-sidebar .nav-link.active .nav-icon {
  color: #fff;
}

.app-sidebar .brand-link {
  display: flex;
  align-items: center;
  gap: .5rem;
}

.app-sidebar .nav-link:hover,
.app-sidebar .nav-link:focus-visible {
  background: rgba(255,255,255,.08);
}

/* ====================================================================== */
/* ------------------------------- HEADER -------------------------------- */
/* ====================================================================== */

.app-page-title {
  display: inline-flex;
  align-items: center;
  gap: .5rem;
  line-height: 1.2;
}

/* ====================================================================== */
/* --------------------------- SMALL BOXES -------------------------------- */
/* ====================================================================== */

.small-box .small-box-footer {
  display: inline-flex;
  align-items: center;
  gap: .5rem;
  text-decoration: none;
}

.small-box .small-box-footer:hover,
.small-box .small-box-footer:focus {
  text-decoration: underline;
}

/* ====================================================================== */
/* --------------------------- TABELAS & LISTAS --------------------------- */
/* ====================================================================== */

.table .text-end.text-nowrap {
  white-space: nowrap;
}

.table td.truncate,
.table th.truncate {
  max-width: 380px;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

th a {
  text-decoration: none;
  cursor: pointer;
}

th a:hover,
th a:focus-visible {
  text-decoration: underline;
}

/* ====================================================================== */
/* ------------------------- FORMULÁRIOS --------------------------------- */
/* ====================================================================== */

input.form-control[readonly],
input.form-control[disabled] {
  background-color: var(--bs-tertiary-bg);
}

.input-validation-error,
select.input-validation-error,
textarea.input-validation-error {
  border-color: #dc3545;
}

.form-label {
  margin-bottom: .25rem;
}

.w-qty { width: 8ch; }
.w-money { width: 12ch; }

/* ====================================================================== */
/* --------------------------- ALERTAS ----------------------------------- */
/* ====================================================================== */

.alert { margin-top: .25rem; }
.alert ul { margin-bottom: 0; }

/* ====================================================================== */
/* ---------------------------- MODAIS ----------------------------------- */
/* ====================================================================== */

.modal-footer .btn + .btn {
  margin-left: .5rem;
}

/* ====================================================================== */
/* --------------------------- UTILITÁRIOS --------------------------------*/
/* ====================================================================== */

.text-mono {
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,
    "Liberation Mono", "Courier New", monospace;
}

.badge-op-entrada { background-color: #198754 !important; }
.badge-op-saida   { background-color: #dc3545 !important; }

/* ====================================================================== */
/* --------------------------- RESPONSIVE ---------------------------------*/
/* ====================================================================== */

@media (max-width: 420px) {
  .table td, .table th { font-size: .9rem; }
  .app-page-title { font-size: 1.1rem; }
}

/* ====================================================================== */
/* --------------------------- KPI CARDS ----------------------------------*/
/* ====================================================================== */

.kpi-card {
  border-radius: 0.9rem;
  border: 1px solid var(--card-border);
  background: var(--card-bg);
}

.kpi-card .card-body {
  padding: 1rem 1.25rem 0.75rem;
}

.kpi-card h2 {
  font-size: 2rem;
  line-height: 1.1;
}

.kpi-card small {
  letter-spacing: .06em;
  font-size: .7rem;
}

/* Ícones redondos */
.kpi-icon {
  width: 3rem;
  height: 3rem;
  border-radius: 999px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.35rem;
}

/* Paletas dos KPI */
.kpi-icon-blue  { background: #e0f2fe; color: #0d6efd; }
.kpi-icon-green { background: #dcfce7; color: #15803d; }
.kpi-icon-amber { background: #fef3c7; color: #b45309; }
.kpi-icon-red   { background: #fee2e2; color: #b91c1c; }

/* Links dos KPI */
.kpi-link {
  font-size: .85rem;
  font-weight: 600;
  color: #2563eb;
  text-decoration: none;
}

.kpi-link:hover {
  color: #1d4ed8;
  text-decoration: underline;
}

/* Listas nos cards */
.card .list-group-item {
  border-color: var(--card-border);
  background-color: var(--card-bg);
  padding-top: 0.75rem;
  padding-bottom: 0.75rem;
}

/* ------------------------------------------------------------------ */
/* Esconder o cabeçalho "Gestão de Obras" com o martelo na sidebar    */
/* (mantém o header principal em cima da página)                       */
/* ------------------------------------------------------------------ */

.app-sidebar .brand-link {
  display: none !important;
}